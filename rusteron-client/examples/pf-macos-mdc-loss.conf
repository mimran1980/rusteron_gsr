# macOS PF+dummynet rules to simulate UDP packet loss for MDC tests.
# Useful for quick replay/recovery and resilience testing.
# Subscriber data port: 32930.
# Preferred usage:
#   just mdc-loss-run 120 10 0.10
# The recipe enables PF, applies these rules, runs the test, then restores PF.

# Apply loss in both directions for UDP traffic on subscriber port 32930.
dummynet out quick inet proto udp from any to any port 32930 pipe 1
dummynet in quick inet proto udp from any to any port 32930 pipe 1

# Keep everything else permitted while this anchor is active.
pass quick all
